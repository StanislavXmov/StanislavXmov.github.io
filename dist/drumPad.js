!function(t){var e={};function n(o){if(e[o])return e[o].exports;var a=e[o]={i:o,l:!1,exports:{}};return t[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(o,a,function(e){return t[e]}.bind(null,a));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=315)}({123:function(t,e,n){},315:function(t,e,n){"use strict";n.r(e);n(123);var o=n.p+"021be0206ffd1d47ed2d49bf7a5bd48a.mp3",a=n.p+"c3b185c2fd3d66746035413830c0bdd1.mp3",i=n.p+"ce941d76a95e6ffe5474134a45045c1c.mp3",l=n.p+"374731594180a2f75acd172c64e80edc.mp3";function s(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}(new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.svg=document.querySelector(".drumpad svg"),this.lamps=this.svg.querySelector("#Lamps"),this.pads=this.svg.querySelectorAll('[data-pad="pad"]'),this.tempoValue=document.querySelector(".tempo-nr"),this.tempoSlider=document.querySelector(".tempo-slider"),this.volumeSliders=document.querySelectorAll(".button-slider"),this.vol_0=document.querySelector(".vol-0"),this.vol_0.setAttribute("src",o),this.vol_1=document.querySelector(".vol-1"),this.vol_1.setAttribute("src",a),this.vol_2=document.querySelector(".vol-2"),this.vol_2.setAttribute("src",i),this.vol_3=document.querySelector(".vol-3"),this.vol_3.setAttribute("src",l),this.vol_0_volume=1,this.vol_1_volume=1,this.vol_2_volume=1,this.vol_3_volume=1,this.vol_0_state=1,this.vol_1_state=1,this.vol_2_state=1,this.vol_3_state=1,this.index=0,this.bpm=150,this.isPlaying=null,this.startBtn=this.svg.querySelector("#Play"),this.stopBtn=this.svg.querySelector("#Stop"),this.muteBtns=document.querySelectorAll(".mute")}var e,n,r;return e=t,(n=[{key:"init",value:function(){var t=this;this.lamps.querySelectorAll('[data-lamp="lamp"]').forEach((function(t){t.addEventListener("animationend",(function(){t.style.animation=""}))})),document.addEventListener("click",(function(e){e.target.dataset.pad&&t.togglePad(e)})),this.startBtn.addEventListener("click",(function(){t.startBtn.classList.toggle("play-btn-active"),t.start()})),this.stopBtn.addEventListener("click",(function(){t.stopBtn.classList.add("stop-btn-active"),t.isPlaying&&t.startBtn.classList.remove("play-btn-active"),t.stop()})),this.stopBtn.addEventListener("animationend",(function(){t.stopBtn.classList.remove("stop-btn-active")})),this.tempoSlider.addEventListener("input",(function(e){t.changeTempo(e)})),this.tempoSlider.addEventListener("change",(function(e){t.updateTempo(e)})),this.muteBtns.forEach((function(e){e.addEventListener("click",(function(e){t.mute(e)}))})),this.volumeSliders.forEach((function(e){e.addEventListener("click",(function(n){if(!document.querySelector('.volume-buttons [data-track="'.concat(e.getAttribute("data-track"),'"]')).classList.contains("off")){e.querySelector(".volume").classList.toggle("off");var o=e.querySelector(".volume-slider");t["".concat(e.getAttribute("data-track"),"_volume")]=+o.value,t["".concat(e.getAttribute("data-track"),"_state")]=+o.value,t.svg.querySelector('[data-arrow="'.concat(e.getAttribute("data-track"),'"]')).style.transform="rotateZ(".concat(180*+o.value-180,"deg)")}}))}))}},{key:"togglePad",value:function(t){t.target.classList.toggle("active")}},{key:"repeat",value:function(){var t=this,e=this.index%8,n=document.querySelectorAll('[data-p="p'.concat(e,'"]'));this.lamps.querySelector("#l".concat(e)).style.animation="playLamp 0.3s alternate ease-in-out 2",n.forEach((function(e){e.classList.contains("active")&&(e.classList.contains("pad-0")&&(t.vol_0.currentTime=0,t.vol_0.volume=t.vol_0_volume,t.vol_0.play()),e.classList.contains("pad-1")&&(t.vol_1.currentTime=0,t.vol_1.volume=t.vol_1_volume,t.vol_1.play()),e.classList.contains("pad-2")&&(t.vol_2.currentTime=0,t.vol_2.volume=t.vol_2_volume,t.vol_2.play()),e.classList.contains("pad-3")&&(t.vol_3.currentTime=0,t.vol_3.volume=t.vol_3_volume,t.vol_3.play()))})),this.index++}},{key:"start",value:function(){var t=this,e=60/this.bpm*1e3;this.isPlaying?(clearInterval(this.isPlaying),this.isPlaying=null):this.isPlaying=setInterval((function(){t.repeat()}),e)}},{key:"stop",value:function(){clearInterval(this.isPlaying),this.isPlaying=null,this.index=0}},{key:"changeTempo",value:function(t){this.bpm=+t.target.value,this.tempoValue.textContent=t.target.value}},{key:"updateTempo",value:function(){clearInterval(this.isPlaying),this.isPlaying=null,this.startBtn.classList.contains("play-btn-active")&&this.start()}},{key:"mute",value:function(t){var e=t.target.getAttribute("data-track");t.target.classList.toggle("off"),t.target.classList.contains("off")?this["".concat(e,"_volume")]=0:this["".concat(e,"_volume")]=this["".concat(e,"_state")]}}])&&s(e.prototype,n),r&&s(e,r),t}())).init()}});